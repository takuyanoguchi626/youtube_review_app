(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41161b04","chunk-4ef3366b"],{2204:function(e,t,i){"use strict";i("7f5a")},"51bf":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"container"},[i("div",{staticClass:"row login-page"},[i("div",{staticClass:"col s12 z-depth-6 card-panel"},[i("h4",{staticClass:"pageTitle"},[e._v("レビューを投稿する")]),i("div",{staticClass:"login-form"},[i("div",[i("img",{staticClass:"iconChange",attrs:{src:e.videoDetail.thumbnailsUrl,alt:""}})]),i("div",{staticClass:"context"},[i("div",{staticClass:"stars hyouka"},[i("span",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.evaluation,expression:"evaluation"}],attrs:{id:"review01",type:"radio",name:"review"},domProps:{value:5,checked:e._q(e.evaluation,5)},on:{change:function(t){e.evaluation=5}}}),i("label",{attrs:{for:"review01"}},[e._v("★")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.evaluation,expression:"evaluation"}],attrs:{id:"review02",type:"radio",name:"review",value:"4"},domProps:{checked:e._q(e.evaluation,"4")},on:{change:function(t){e.evaluation="4"}}}),i("label",{attrs:{for:"review02"}},[e._v("★")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.evaluation,expression:"evaluation"}],attrs:{id:"review03",type:"radio",name:"review",value:"3"},domProps:{checked:e._q(e.evaluation,"3")},on:{change:function(t){e.evaluation="3"}}}),i("label",{attrs:{for:"review03"}},[e._v("★")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.evaluation,expression:"evaluation"}],attrs:{id:"review04",type:"radio",name:"review",value:"2"},domProps:{checked:e._q(e.evaluation,"2")},on:{change:function(t){e.evaluation="2"}}}),i("label",{attrs:{for:"review04"}},[e._v("★")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.evaluation,expression:"evaluation"}],attrs:{id:"review05",type:"radio",name:"review",value:"1"},domProps:{checked:e._q(e.evaluation,"1")},on:{change:function(t){e.evaluation="1"}}}),i("label",{attrs:{for:"review05"}},[e._v("★")])])]),i("div",{staticClass:"row textarea"},[i("form",{staticClass:"col s12 offset-s1"},[i("div",{staticClass:"row"},[i("div",{staticClass:"input-field col s12"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.review,expression:"review"}],staticClass:"materialize-textarea",attrs:{id:"textarea1"},domProps:{value:e.review},on:{input:function(t){t.target.composing||(e.review=t.target.value)}}}),i("label",{attrs:{for:"textarea1"}},[e._v("Review")])])])])]),i("div",{staticClass:"row login-btn"},[i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return e.postReview()}}},[i("span",[e._v("レビューを投稿")])])])])])])])])])},n=[],s=i("5530"),r=i("b85c"),o=i("1da1"),c=i("d4ec"),l=i("bee2"),v=i("262e"),d=i("2caf"),u=(i("96cf"),i("99af"),i("a4d3"),i("e01a"),i("d81d"),i("b0c0"),i("7db0"),i("d3b7"),i("a9e3"),i("9ab4")),p=i("1b40"),h=i("b166"),w=i("1519"),b=i("bc3a"),f=i.n(b),m=i("a88f"),g=i("dc59"),C=i("0829"),y=i("1c8c"),_=i("155d"),D=function(e){Object(v["a"])(i,e);var t=Object(d["a"])(i);function i(){var e;return Object(c["a"])(this,i),e=t.apply(this,arguments),e.evaluation=0,e.review="",e.videoDetail=new w["a"](0,"","","","","",""),e.accountList=Array(),e.currentUserId=e.$store.getters.getCurrentUserId,e.reviewLastId=0,e}return Object(l["a"])(i,[{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,i,a,n,o,c,l,v,d=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.$route.params.id,i=this.$store.getters.getApiKey,a=Object(r["a"])(i),e.prev=3,a.s();case 5:if((n=a.n()).done){e.next=24;break}return o=n.value,e.prev=7,e.next=10,f.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&key=".concat(o,"&id=").concat(t));case 10:return c=e.sent,l=c.data.items[0],this.videoDetail=new w["a"](l.id,l.snippet.publishedAt,l.snippet.title,l.snippet.description,l.snippet.thumbnails.medium.url,l.snippet.channelTitle,l.statistics.viewCount),v=Object(C["a"])(g["a"],"アカウント一覧"),Object(C["d"])(v,(function(e){var t,i=e.docs.map((function(e){return Object(s["a"])({},e.data())})),a=Object(r["a"])(i);try{for(a.s();!(t=a.n()).done;){var n,o=t.value,c=Array(),l=Object(r["a"])(o.favoriteChannelList);try{for(l.s();!(n=l.n()).done;){var v=n.value;c.push(new _["a"](v.id,v.title,v.description,v.publishedAt,v.thumbnailsUrl,v.viewCount,v.subscriberCount,v.videoCount))}}catch(f){l.e(f)}finally{l.f()}var u,p=Array(),h=Object(r["a"])(o.reviewList);try{for(h.s();!(u=h.n()).done;){var b=u.value;p.push(new y["a"](b.reviewDate,b.reviewId,b.accountId,new w["a"](b.videos.id,b.videos.publishedAt,b.videos.title,b.videos.description,b.videos.thumbnailsUrl,b.videos.channelTitle,b.videos.viewCount),b.evaluation,b.review,b.favoriteCount))}}catch(f){h.e(f)}finally{h.f()}d.accountList.push(new m["a"](o.id,o.name,o.introduction,o.img,o.mailaddless,o.telephone,o.password,c,p))}}catch(f){a.e(f)}finally{a.f()}})),Object(C["d"])(Object(C["b"])(g["a"],"レビューラストID","レビューラストID"),(function(e){d.reviewLastId=Object(s["a"])({},e.data()).reviewLastId})),e.abrupt("return");case 19:e.prev=19,e.t0=e["catch"](7),console.log("APIerror");case 22:e.next=5;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](3),a.e(e.t1);case 29:return e.prev=29,a.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,this,[[3,26,29,32],[7,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDate",value:function(){var e=Object(h["a"])(new Date,"yyyy年MM月dd日");return e}},{key:"postReview",value:function(){var e=this,t=this.accountList.find((function(t){return Number(t.id)===Number(e.currentUserId)}));if(void 0!==t){t.reviewList.push(new y["a"](this.getDate(),this.reviewLastId,t.id,this.videoDetail,this.evaluation,this.review,new Array));try{Object(C["e"])(Object(C["b"])(g["a"],"レビューラストID","レビューラストID"),{reviewLastId:Number(this.reviewLastId)+1});var i,a=Array(),n=Object(r["a"])(t.reviewList);try{for(n.s();!(i=n.n()).done;){var s=i.value;void 0===s.favoriteCount?a.push({reviewDate:s.reviewDate,reviewId:s.reviewId,accountId:s.accountId,videos:{id:s.videos.id,publishedAt:s.videos.publishedAt,title:s.videos.title,description:s.videos.description,thumbnailsUrl:s.videos.thumbnailsUrl,channelTitle:s.videos.channelTitle,viewCount:s.videos.viewCount},evaluation:s.evaluation,review:s.review,favoriteCount:[]}):a.push({reviewDate:s.reviewDate,reviewId:s.reviewId,accountId:s.accountId,videos:{id:s.videos.id,publishedAt:s.videos.publishedAt,title:s.videos.title,description:s.videos.description,thumbnailsUrl:s.videos.thumbnailsUrl,channelTitle:s.videos.channelTitle,viewCount:s.videos.viewCount},evaluation:s.evaluation,review:s.review,favoriteCount:s.favoriteCount})}}catch(u){n.e(u)}finally{n.f()}var o,c=Array(),l=Object(r["a"])(t.favoriteChannelList);try{for(l.s();!(o=l.n()).done;){var v=o.value;c.push({id:v.id,title:v.title,description:v.description,publishedAt:v.publishedAt,thumbnailsUrl:v.thumbnailsUrl,viewCount:v.viewCount,subscriberCount:v.subscriberCount,videoCount:v.videoCount})}}catch(u){l.e(u)}finally{l.f()}var d=Object(C["e"])(Object(C["b"])(g["a"],"アカウント一覧",String(t.id)),{id:t.id,name:t.name,introduction:t.introduction,img:t.img,mailaddless:t.mailaddless,telephone:t.telephone,password:t.password,favoriteChannelList:c,reviewList:a});console.log(d)}catch(p){console.error("Error adding document: ",p)}this.$router.push("/videoDetail/".concat(this.videoDetail.id))}}}]),i}(p["b"]);D=Object(u["a"])([p["a"]],D);var O=D,j=O,I=(i("86b3"),i("2877")),k=Object(I["a"])(j,a,n,!1,null,"725b6d29",null);t["default"]=k.exports},"7db0":function(e,t,i){"use strict";var a=i("23e7"),n=i("b727").find,s=i("44d2"),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(r)},"7f5a":function(e,t,i){},"86b3":function(e,t,i){"use strict";i("de20")},b96c:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container context"},[i("div",{staticClass:"video item col card white"},[i("div",{staticClass:"frame"},[i("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/"+e.videoDetail.id,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),i("div",[e._v(e._s(e.videoDetail.title))]),i("div",[e._v("動画投稿日："+e._s(e.videoDetail.formatPublishedAt))]),i("div",[e._v("再生回数："+e._s(e.videoDetail.formatViewCount)+"回")]),e.flag?e._e():i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.showDescription}},[e._v(" 概要欄をcheck！ ")]),e.flag?i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:e.hiddenDescription}},[e._v(" 概要欄を閉じる ")]):e._e(),i("hr"),e.flag?i("div",[i("h7",[e._v("【概要欄】")])],1):e._e(),e.flag?i("div",{staticClass:"description"},[e._v(" "+e._s(e.videoDetail.description)+" ")]):e._e(),e.flag?i("hr"):e._e(),i("router-link",{attrs:{to:"/channelDetail/"+e.channelDetail.id}},[i("img",{staticClass:"img",attrs:{src:e.channelDetail.thumbnailsUrl}})]),i("div",[e._v("【"+e._s(e.videoDetail.channelTitle)+"】")]),i("div",[e._v("チャンネル設立日："+e._s(e.channelDetail.formatPublishedAt))]),i("div",[e._v("総再生回数："+e._s(e.channelDetail.formatViewCount)+"回")]),i("div",[e._v("チャンネル登録者数："+e._s(e.channelDetail.formatSubscriberCount)+"人")]),i("div",[e._v("総動画数："+e._s(e.channelDetail.formatVideoCount)+"個")])],1),i("div",{staticClass:"review"},[i("div",[i("button",{staticClass:"btn",on:{click:e.postReview}},[e._v("レビューを投稿する")])]),i("div",{staticClass:"reviewList300"},[e.isReviewList?e._l(e.reviewList,(function(t){return i("div",{key:t.id,staticClass:"row"},[i("router-link",{attrs:{to:"/showReview/"+t.reviewId}},[i("div",{staticClass:"col s10 offset-s1"},[i("div",{staticClass:"card content"},[i("div",{staticClass:"card-image"},[i("img",{staticClass:"accountImage img",attrs:{src:e.getAccountById(t.accountId).img}})]),i("div",{staticClass:"card-content content"},[i("div",{staticClass:"card-name"},[e._v(" "+e._s(e.getAccountById(t.accountId).name)+" ")]),i("div",{staticClass:"card-evaluation evaluation"},[e._v(" 評価： "),i("span",{staticClass:"star5_rating",attrs:{"data-rate":t.evaluation}}),i("span",{staticClass:"iine"},[e._v("いいね数："+e._s(t.favoriteCount.length))])]),i("div",[i("hr")]),i("p",{staticClass:"reviewDetail"},[e._v(" "+e._s(t.review)+" ")])])])])])],1)})):i("div",{staticClass:"noReviewList"},[i("img",{staticClass:"noReviewImage",attrs:{src:"/img/review.png",alt:""}}),i("h4",[e._v("まだレビューがありません")])])],2)])])},n=[],s=i("5530"),r=i("b85c"),o=i("1da1"),c=i("d4ec"),l=i("bee2"),v=i("262e"),d=i("2caf"),u=(i("96cf"),i("99af"),i("a4d3"),i("e01a"),i("d81d"),i("b0c0"),i("4de4"),i("d3b7"),i("9ab4")),p=i("1b40"),h=i("51bf"),w=i("bc3a"),b=i.n(w),f=i("1519"),m=i("155d"),g=i("1c8c"),C=i("a88f"),y=i("dc59"),_=i("0829"),D=function(e){Object(v["a"])(i,e);var t=Object(d["a"])(i);function i(){var e;return Object(c["a"])(this,i),e=t.apply(this,arguments),e.videoDetail=new f["a"](0,"","","","","",""),e.channelDetail=new m["a"]("","","","","",0,0,0),e.reviewList=new Array,e.isReviewList=!1,e.flag=!1,e.accountList=Array(),e}return Object(l["a"])(i,[{key:"created",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,i,a,n,o,c,l,v,d,u,p,h=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=function(e){var t=window.pageYOffset,i=e/t>1?10:100,a=e/t*i,n=setInterval(s,a);function s(){t=window.pageYOffset,0===t?clearInterval(n):scrollBy(0,-i)}},t(1),i=this.$route.params.id,a=this.$store.getters.getApiKey,n=Object(r["a"])(a),e.prev=5,n.s();case 7:if((o=n.n()).done){e.next=30;break}return c=o.value,e.prev=9,e.next=12,b.a.get("https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&key=".concat(c,"&id=").concat(i));case 12:return l=e.sent,v=l.data.items[0],this.videoDetail=new f["a"](v.id,v.snippet.publishedAt,v.snippet.title,v.snippet.description,v.snippet.thumbnails.high.url,v.snippet.channelTitle,v.statistics.viewCount),e.next=17,b.a.get("https://www.googleapis.com/youtube/v3/channels?key=".concat(c,"&part=snippet,contentDetails,statistics,status&id=").concat(v.snippet.channelId));case 17:return d=e.sent,u=d.data.items[0],this.channelDetail=new m["a"](u.id,u.snippet.title,u.snippet.description,u.snippet.publishedAt,u.snippet.thumbnails.high.url,u.statistics.viewCount,u.statistics.subscriberCount,u.statistics.videoCount),p=Object(_["a"])(y["a"],"アカウント一覧"),Object(_["d"])(p,(function(e){var t,i=e.docs.map((function(e){return Object(s["a"])({},e.data())})),a=Object(r["a"])(i);try{for(a.s();!(t=a.n()).done;){var n,o=t.value,c=Array(),l=Object(r["a"])(o.favoriteChannelList);try{for(l.s();!(n=l.n()).done;){var v=n.value;c.push(new m["a"](v.id,v.title,v.description,v.publishedAt,v.thumbnailsUrl,v.viewCount,v.subscriberCount,v.videoCount))}}catch(x){l.e(x)}finally{l.f()}var d,u=Array(),p=Object(r["a"])(o.reviewList);try{for(p.s();!(d=p.n()).done;){var w=d.value;u.push(new g["a"](w.reviewDate,w.reviewId,w.accountId,new f["a"](w.videos.id,w.videos.publishedAt,w.videos.title,w.videos.description,w.videos.thumbnailsUrl,w.videos.channelTitle,w.videos.viewCount),w.evaluation,w.review,w.favoriteCount))}}catch(x){p.e(x)}finally{p.f()}h.accountList.push(new C["a"](o.id,o.name,o.introduction,o.img,o.mailaddless,o.telephone,o.password,c,u))}}catch(x){a.e(x)}finally{a.f()}var b,y=new Array,_=Object(r["a"])(h.accountList);try{for(_.s();!(b=_.n()).done;){var D,O=b.value,j=Object(r["a"])(O.reviewList);try{for(j.s();!(D=j.n()).done;){var I=D.value;I.videos.id===h.videoDetail.id&&y.push(I)}}catch(x){j.e(x)}finally{j.f()}}}catch(x){_.e(x)}finally{_.f()}for(var k=0,A=y;k<A.length;k++){var L=A[k];h.reviewList.push(new g["a"](L.reviewDate,L.reviewId,L.accountId,new f["a"](L.videos.id,L.videos.publishedAt,L.videos.title,L.videos.description,L.videos.thumbnailsUrl,L.videos.channelTitle,L.videos.viewCount),L.evaluation,L.review,L.favoriteCount))}0!==h.reviewList.length&&(h.isReviewList=!0)})),e.abrupt("return");case 25:e.prev=25,e.t0=e["catch"](9),console.log("APIerror");case 28:e.next=7;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e["catch"](5),n.e(e.t1);case 35:return e.prev=35,n.f(),e.finish(35);case 38:case"end":return e.stop()}}),e,this,[[5,32,35,38],[9,25]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAccountById",value:function(e){return this.accountList.filter((function(t){return t.id===e}))[0]}},{key:"showDescription",value:function(){this.flag=!0}},{key:"hiddenDescription",value:function(){this.flag=!1}},{key:"postReview",value:function(){var e=this.$store.getters.getCurrentUserId;0!==e?this.$router.push("/addReview/".concat(this.videoDetail.id)):this.$router.push("/2login/".concat(this.videoDetail.id))}}]),i}(p["b"]);D=Object(u["a"])([Object(p["a"])({components:{AddReview:h["default"]}})],D);var O=D,j=O,I=(i("2204"),i("2877")),k=Object(I["a"])(j,a,n,!1,null,"647d5568",null);t["default"]=k.exports},de20:function(e,t,i){}}]);
//# sourceMappingURL=chunk-41161b04.49f79af7.js.map